# –û—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ SQLite –≤ PostgreSQL

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ SQLite –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –∏ –∑–∞–∫–∞–∑—á–∏–∫–∏
   - –ü—Ä–æ—Ñ–∏–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
   - –°–≤—è–∑–∏ —Å –≥–æ—Ä–æ–¥–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏ —É—Å–ª—É–≥

2. **–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ**: –í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

3. **–ì–æ—Ä–æ–¥–∞**: –í—Å–µ –≥–æ—Ä–æ–¥–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ù–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
   - –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

4. **–¢–∏–ø—ã —É—Å–ª—É–≥**: –í—Å–µ —Ç–∏–ø—ã —É—Å–ª—É–≥
   - –ö–æ–¥—ã –∏ –Ω–∞–∑–≤–∞–Ω–∏—è
   - –û–ø–∏—Å–∞–Ω–∏—è –∏ –∏–∫–æ–Ω–∫–∏
   - –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

5. **–ó–∞–∫–∞–∑—ã**: –í—Å–µ –∑–∞–∫–∞–∑—ã
   - –°–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–∫–∞–∑—á–∏–∫–∞–º–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏
   - –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–æ–≤

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –õ–æ–∫–∞–ª—å–Ω–æ:
- `cities_export.json` - –≠–∫—Å–ø–æ—Ä—Ç –≥–æ—Ä–æ–¥–æ–≤
- `service_types_export.json` - –≠–∫—Å–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤ —É—Å–ª—É–≥  
- `users_export.json` - –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `portfolio_export.json` - –≠–∫—Å–ø–æ—Ä—Ç –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- `orders_export.json` - –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–æ–≤
- `media_backup/` - –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
- `db.sqlite3.backup.*` - –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è SQLite –±–∞–∑—ã

### –°–∫—Ä–∏–ø—Ç—ã:
- `migrate_to_postgres.py` - –°–∫—Ä–∏–ø—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- `import_to_server.py` - –°–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- `server_import_script.py` - –°–∫—Ä–∏–ø—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –≠–∫—Å–ø–æ—Ä—Ç (–≤—ã–ø–æ–ª–Ω–µ–Ω ‚úÖ)
```bash
python migrate_to_postgres.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è SQLite –±–∞–∑—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–∞–π–ª—ã

### –≠—Ç–∞–ø 2: –ò–º–ø–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–≥–æ—Ç–æ–≤ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)
```bash
python import_to_server.py
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
5. –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
6. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π Django
7. –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL
8. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã
ls -la *.json
ls -la media_backup/
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –∏–º–ø–æ—Ä—Ç–∞
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
python import_to_server.py
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@77.246.247.137 "cd /root/tsznewproject && docker-compose ps"
```

## üîê –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å: `default_password_123`
- **–í–ê–ñ–ù–û**: –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É Django

### –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã
- –í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
- –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è
- –†–∞–∑–º–µ—Ä –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º

### –°–≤—è–∑–∏ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏
- –°–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –≥–æ—Ä–æ–¥–∞–º–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è
- –°–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ç–∏–ø–∞–º–∏ —É—Å–ª—É–≥ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è
- –°–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–∫–∞–∑–∞–º–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è

## üö® –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `get_or_create()` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ

### 2. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤—è–∑–∏
- –ï—Å–ª–∏ –≥–æ—Ä–æ–¥ –∏–ª–∏ —Ç–∏–ø —É—Å–ª—É–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –±–µ–∑ —Å–≤—è–∑–∏
- –í –ª–æ–≥–∞—Ö –±—É–¥—É—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö

### 3. –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã
- –ï—Å–ª–∏ –º–µ–¥–∏–∞ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –∑–∞–ø–∏—Å—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ `media_backup/`

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ Django
- –í–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: https://toisozvezdoi.kz/admin/
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
ssh root@77.246.247.137 "cd /root/tsznewproject && docker-compose logs web"
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏:
- ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å–∞–π—Ç–µ
- ‚úÖ –í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è
- ‚úÖ –í—Å–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è
- ‚úÖ –°–∞–π—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å PostgreSQL
- ‚úÖ HTTPS –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞—Ç—å

**–°–∞–π—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏!** üéâ
